(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{536:function(t,n,s){"use strict";s.r(n);var a=s(4),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Inception是集审核、执行、回滚于一体的一个SQL自动化运维系统，基于MySQL代码修改，官方文档地址："),s("a",{attrs:{href:"https://mysql-inception.github.io/inception-document/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mysql-inception.github.io/inception-document/"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"一、inception部署篇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、inception部署篇"}},[t._v("#")]),t._v(" 一、Inception部署篇")]),t._v(" "),s("p",[t._v("官方部署说明："),s("a",{attrs:{href:"https://mysql-inception.github.io/inception-document/install/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mysql-inception.github.io/inception-document/install/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("我的环境：centos7.4")]),t._v(" "),s("p",[t._v("我的安装步骤：")]),t._v(" "),s("p",[t._v("1. 安装依赖")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("yum -y install gcc gcc-c++ make cmake openssl-devel ncurses-devel perl unzip m4 MySQL-python perl-ExtUtils-Embed perl-DBI perl-DBD-MySQL perl-Digest-MD5 perl-Data-Dumper\n\n(Ubuntu下执行apt-get install cmake libncurses5-dev libssl-dev g++ m4，没有perl的话也要安装)\n")])])]),s("p",[t._v("2. 安装bison，官方建议2.6版本之前")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("wget -c https://static.saintic.com/download/inception/bison-2.5.1.tar && tar xf bison-2.5.1.tar && cd bison-2.5.1 && ./configure && make && make install\n")])])]),s("p",[t._v("3. 安装percona-toolkit，在线修改大表用的工具")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("wget -c https://static.saintic.com/download/inception/percona-toolkit-2.2.20.tar.gz && tar zxf percona-toolkit-2.2.20.tar.gz && cd percona-toolkit-2.2.20 && perl Makefile.PL && make install\n")])])]),s("p",[t._v("4. 安装主程序inception")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v('git clone https://github.com/mysql-inception/inception && cd inception\n\n编译inception可以用官方的方法，sh inception_build.sh，也可以cmake编译，我这里用cmake演示(因为后面docker编译用cmake没有问题)。\n\ncmake -DWITH_DEBUG=OFF -DCMAKE_INSTALL_PREFIX=/Inception -DMYSQL_DATADIR=/Inception/data -DWITH_SSL=bundled -DCMAKE_BUILD_TYPE=RELEASE -DWITH_ZLIB=bundled -DMY_MAINTAINER_CXX_WARNINGS="-Wall -Wextra -Wunused -Wno-dev -Wwrite-strings -Wno-strict-aliasing -Wno-unused-parameter -Woverloaded-virtual" -DMY_MAINTAINER_C_WARNINGS="-Wall -Wextra -Wno-dev -Wunused -Wwrite-strings -Wno-strict-aliasing -Wdeclaration-after-statement" && make && make install\n\n注意红色部分，编译好的程序目录即可，可执行命令在这目录的bin下。\n')])])]),s("p",[t._v("5. 启动")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("/Inception/bin/Inception --defaults-file=/etc/inception.cnf   #此配置文件参见底部附录\n")])])]),s("h2",{attrs:{id:"二、docker镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、docker镜像"}},[t._v("#")]),t._v(" 二、Docker镜像")]),t._v(" "),s("p",[t._v("上述过程已经被我打包成镜像，基于centos7.4，可以直接使用，镜像支持OSC，默认配置文件为官方推荐配置(参见底部附录)，可以自定义挂载覆盖/etc/inception.cnf，默认了以下参数可以设置环境变量：")]),t._v(" "),s("table",{},[s("tbody",[s("tr",[s("td",[s("code",[t._v("bind_address")]),t._v("，默认127.0.0.1。"),s("br"),s("code",[t._v("port")]),t._v("，默认6669"),s("br"),s("code",{staticStyle:{"font-size":"12.6px"}},[t._v("inception_support_charset")]),t._v("，字符集，默认utf8mb4"),s("br"),s("code",[t._v("inception_remote_backup_host")]),t._v("，远程备份服务器的地址"),s("br"),s("code",[t._v("inception_remote_backup_port")]),t._v("，远程备份服务器的端口"),s("br"),s("code",[t._v("inception_remote_system_user")]),t._v("，远程备份服务器的用户"),s("br"),s("code",[t._v("inception_remote_system_password")]),t._v("，远程备份服务器的密码"),s("br"),s("code",[t._v("inception_osc_on")]),t._v(", 是否开启osc，1是开启，0是关闭(默认)")])])])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("拉取镜像")]),t._v(" "),s("p",[s("code",[t._v("docker pull registry.cn-beijing.aliyuncs.com/staugur/inception:v0.1")])])]),t._v(" "),s("li",[s("p",[t._v("运行镜像(可以跳过第一步，此处假定远程备份地址127.0.0.1，端口3306，账号root，密码123456)")]),t._v(" "),s("p",[t._v("docker run -tdi --name inception -e bind_address=0.0.0.0 -e port=6669 -e inception_remote_backup_host=127.0.0.1 -e inception_remote_backup_port=3306 -e inception_remote_system_user=root -e inception_remote_system_password=123456 --net=host registry.cn-beijing.aliyuncs.com/staugur/inception:v0.1")])]),t._v(" "),s("li",[s("p",[t._v("查看日志："),s("code",[t._v("docker logs inception")])]),t._v(" "),s("p",[t._v("The inception listens for 0.0.0.0:6669")]),t._v(" "),s("p",[t._v("2018-07-19 03:40:15 0 [Note] Welcome to use Inception2.1.50")]),t._v(" "),s("p",[t._v("2018-07-19 03:40:15 6 [Note] Server hostname (bind-address): '0.0.0.0'; port: 6669")]),t._v(" "),s("p",[t._v("2018-07-19 03:40:15 6 [Note]   - '0.0.0.0' resolves to '0.0.0.0';")]),t._v(" "),s("p",[t._v("2018-07-19 03:40:15 6 [Note] Server socket created on IP: '0.0.0.0'.")])])]),t._v(" "),s("h2",{attrs:{id:"三、访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、访问"}},[t._v("#")]),t._v(" 三、访问")]),t._v(" "),s("p",[t._v("使用mysql命令即可，需要指定inception的ip地址和端口，如"),s("code",[t._v("mysql \\-h127.0.0.1 \\-P6669")])]),t._v(" "),s("p",[t._v("登录成功界面如下图，此时执行 "),s("code",[t._v("inception get variables;")]),t._v(" 命令可以获取系统参数。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://static.saintic.com/EauDouce/blog/201807191146533596.png",alt:"QQ截图20180719114556"}})]),t._v(" "),s("h2",{attrs:{id:"四、附录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、附录"}},[t._v("#")]),t._v(" 四、附录")]),t._v(" "),s("p",[t._v("1. 配置文件/etc/inception.cnf")]),t._v(" "),s("p",[t._v("此配置文件基本是官方参数默认值，docker运行时可以使用 "),s("code",[t._v("-v 你的配置文件:/etc/inception.cnf")]),t._v("覆盖它。")]),t._v(" "),s("p",[t._v("官方参数文档地址："),s("a",{attrs:{href:"https://mysql-inception.github.io/inception-document/variables/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mysql-inception.github.io/inception-document/variables/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("配置文件内容如下($变量请在在docker运行时覆盖)：")]),t._v(" "),s("div",{staticClass:"language-ini line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[inception]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("general_log")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("general_log_file")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/var/log/inception.log")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#这个参数实际上就是MySQL数据库原来的参数，因为Incpetion没有权限验证过程，那么为了实现更安全的访问，可以给Inception服务器的这个参数设置某台机器（Inception上层的应用程序）不地址，这样")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#其它非法程序是不可访问的，那么再加上Inception执行的选项中的用户名密码，对MySQL就更加安全")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("bind_address")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$bind_address")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$port")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("socket")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/var/run/inception.socket")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("character-set-client-handshake")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("character-set-server")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("utf8")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#备份相关")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#需要开启binlog")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_remote_system_password")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_remote_system_password")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_remote_system_user")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_remote_system_user")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_remote_backup_port")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_remote_backup_port")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_remote_backup_host")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_remote_backup_host")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在DML语句中没有WHERE条件时，是不是要报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_dml_where")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在DML语句中使用了LIMIT时，是不是要报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_dml_limit")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在DML语句中使用了Order By时，是不是要报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_dml_orderby")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Select*时是不是要报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_select_star")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#order by rand时是不是报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_orderby_rand")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建或者新增列时如果列为NULL，是不是报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_nullable")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是不是支持外键")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_foreign_key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#一个索引中，列的最大个数，超过这个数目则报错(1-64)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_max_key_parts")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在一个修改语句中，预计影响的最大行数，超过这个数就报错(1-max)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_max_update_rows")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#一个表中，最大的索引数目，超过这个数则报错(1-1024)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_max_keys")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("16")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表指定的存储引擎不为Innodb，不报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_not_innodb")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#表示在建表或者建库时支持的字符集，如果需要多个，则用逗号分隔，影响的范围是建表、设置会话字符集、修改表字符集属性等")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_support_charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_support_charset")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表时，表没有注释时报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_table_comment")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表时，列没有注释时报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_column_comment")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表时，如果没有主键，则报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_primary_key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是不是支持分区表")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_partition_table")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#是不是支持enum,set,bit数据类型")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_enum_set_bit")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#是不是要检查索引名字前缀为"idx_"，检查唯一索引前缀是不是"uniq_"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_index_prefix")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#自增列是不是要为无符号型")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_autoincrement_unsigned")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当char类型的长度大于这个值时，就提示将其转换为VARCHAR(1-max)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_max_char_length")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("16")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当建表时自增列的值指定的不为1，则报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_autoincrement_init_value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当建表时自增列的类型不为int或者bigint时报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_autoincrement_datatype")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表时，如果没有为timestamp类型指定默认值，则报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_timestamp_default")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#允许列自己设置字符集")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_column_charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#建表时，如果指定的自增列的名字不为ID，则报错，说明是有意义的，给提示")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_autoincrement_name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#在多个改同一个表的语句出现时，报错，提示合成一个")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_merge_alter_table")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#检查在建表、修改列、新增列时，新的列属性是不是要有默认值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_column_default_value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#检查是不是支持BLOB字段，包括建表、修改列、新增列操作")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_blob_type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#检查在SQL语句中，是不是有标识符被写成MySQL的关键字，默认值为报警。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_enable_identifer_keyword")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#这个参数的作用是为了匹配Python客户端每次自动设置auto_commit=0的，如果取消则会报错，针对Inception本身没有实际意义")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#auto_commit=0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#打开与关闭Inception对SQL语句中各种名字的检查，如果设置为ON，则如果发现名字中存在除数字字母下划线之外的字符时，报Identifier "invalidname" is invalid, valid options: [a-z,A-Z,0-9,_].')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_check_identifier")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#开启对OSC的支持")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_osc_on")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("$inception_osc_on")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("inception_osc_bin_dir")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/usr/local/bin/pt-online-schema-change")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);